<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Salah Tracker</title>
    <style>
        :root {
            --primary: #2c3e50;
            --on-time: #27ae60;
            --delayed: #f39c12;
            --missed: #e74c3c;
            --bg: #f4f7f6;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .container { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 100%; max-width: 400px; }
        h1 { text-align: center; color: var(--primary); margin-bottom: 20px; }
        .date-display { text-align: center; font-weight: bold; margin-bottom: 20px; color: #7f8c8d; }
        .prayer-row { display: flex; flex-direction: column; padding: 15px 0; border-bottom: 1px solid #eee; }
        .prayer-name { font-size: 1.2rem; font-weight: bold; color: var(--primary); margin-bottom: 10px; }
        .btn-group { display: flex; gap: 8px; }
        button { flex: 1; border: none; padding: 10px 5px; border-radius: 8px; cursor: pointer; color: white; font-weight: bold; transition: opacity 0.2s, transform 0.1s; font-size: 0.8rem; }
        button:active { transform: scale(0.95); }
        .btn-on-time { background-color: var(--on-time); }
        .btn-delayed { background-color: var(--delayed); }
        .btn-missed { background-color: var(--missed); }
        .selected { outline: 3px solid black; outline-offset: 2px; opacity: 1 !important; }
        button:not(.selected) { opacity: 0.6; }
        .reset-btn { margin-top: 20px; width: 100%; background: #95a5a6; }
    </style>
</head>
<body>

<div class="container">
    <h1>Salah Tracker</h1>
    <div id="date" class="date-display"></div>
    
    <div id="tracker">
        </div>

    <button class="reset-btn" onclick="resetTracker()">Reset for New Day</button>
</div>

<script>
    const prayers = ["Fajr", "Dhuhr", "Asr", "Maghrib", "Isha"];
    const trackerContainer = document.getElementById('tracker');
    
    // Set Date
    document.getElementById('date').innerText = new Date().toDateString();

    function loadTracker() {
        trackerContainer.innerHTML = '';
        const savedData = JSON.parse(localStorage.getItem('salahData')) || {};

        prayers.forEach(prayer => {
            const row = document.createElement('div');
            row.className = 'prayer-row';
            
            const status = savedData[prayer] || null;

            row.innerHTML = `
                <div class="prayer-name">${prayer}</div>
                <div class="btn-group">
                    <button class="btn-on-time ${status === 'on-time' ? 'selected' : ''}" onclick="updateStatus('${prayer}', 'on-time')">On Time</button>
                    <button class="btn-delayed ${status === 'delayed' ? 'selected' : ''}" onclick="updateStatus('${prayer}', 'delayed')">Delayed</button>
                    <button class="btn-missed ${status === 'missed' ? 'selected' : ''}" onclick="updateStatus('${prayer}', 'missed')">Missed</button>
                </div>
            `;
            trackerContainer.appendChild(row);
        });
    }

    function updateStatus(prayer, status) {
        const savedData = JSON.parse(localStorage.getItem('salahData')) || {};
        savedData[prayer] = status;
        localStorage.setItem('salahData', JSON.stringify(savedData));
        loadTracker();
    }

    function resetTracker() {
        if(confirm("Clear today's progress?")) {
            localStorage.removeItem('salahData');
            loadTracker();
        }
    }

    loadTracker();
</script>

</body>
</html>
